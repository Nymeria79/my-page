<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„åŒ»å­¦åšå®¢ - ä¸ªäººä¸»é¡µ</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* å¯†ç é—¨ä¸“ç”¨æ ·å¼ */
        #gate {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-color);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        #blog-content { 
            display: none; 
        }
        .error {
            color: #c45c5c;
            display: none;
            margin-top: 12px;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

    <!-- å¯†ç é—¨ -->
    <div id="gate">
        <div class="card" style="width: 100%; max-width: 400px; text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ”</div>
            <h2 style="margin-bottom: 8px; color: var(--text-primary);">ç§äººé¢†åŸŸ</h2>
            <p style="color: var(--text-secondary); margin-bottom: 24px;">è¯·è¾“å…¥å¯†ç è¿›å…¥å°cçš„ç©ºé—´</p>
            
            <input type="password" id="pwd" placeholder="è¾“å…¥å¯†ç ..." 
                   style="width: 100%; padding: 14px; margin-bottom: 12px; border: 1px solid var(--link-border); 
                          border-radius: var(--radius-sm); font-family: inherit; font-size: 1rem; outline: none;"
                   onkeypress="if(event.key==='Enter')unlock()">
            
            <button onclick="unlock()" 
                    style="width: 100%; padding: 14px; background: var(--link-color); color: white; border: none; 
                           border-radius: var(--radius-sm); cursor: pointer; font-weight: 500; font-size: 1rem;
                           transition: background 0.3s;">
                è¿›å…¥
            </button>
            
            <p class="error" id="err">å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•</p>
        </div>
    </div>

    <!-- åšå®¢å†…å®¹ -->
    <div id="blog-content">
        <div class="container">
            
            <!-- å¤´éƒ¨ -->
            <div class="card header-card">
                <h1>ğŸ©º æˆ‘çš„åŒ»å­¦åšå®¢</h1>
                <p class="subtitle">è®°å½•å­¦åŒ»è·¯ä¸Šçš„ç‚¹æ»´æ€è€ƒ</p>
                
                <!-- ç®€ç‰ˆå¯¼èˆª -->
                <div style="margin-top: 20px; display: flex; justify-content: center; gap: 24px; flex-wrap: wrap;">
                    <a href="#about" style="color: var(--link-color); text-decoration: none; font-weight: 500; padding: 6px 12px; border-radius: 20px; transition: background 0.2s;" onmouseover="this.style.background='var(--link-bg)'" onmouseout="this.style.background='transparent'">å…³äºæˆ‘</a>
                    <a href="#blog" style="color: var(--link-color); text-decoration: none; font-weight: 500; padding: 6px 12px; border-radius: 20px; transition: background 0.2s;" onmouseover="this.style.background='var(--link-bg)'" onmouseout="this.style.background='transparent'">åšå®¢</a>
                    <a href="#contact" style="color: var(--link-color); text-decoration: none; font-weight: 500; padding: 6px 12px; border-radius: 20px; transition: background 0.2s;" onmouseover="this.style.background='var(--link-bg)'" onmouseout="this.style.background='transparent'">è”ç³»æ–¹å¼</a>
                </div>
            </div>

            <!-- å…³äºæˆ‘ -->
            <div class="card" id="about">
                <div class="card-title">ğŸ‘‹ å…³äºæˆ‘</div>
                <div class="card-desc">
                    ä½ å¥½ï¼æˆ‘æ˜¯ä¸€åå¤§å››åŒ»å­¦ç”Ÿã€‚è¿™ä¸ªåšå®¢æ˜¯æˆ‘ç”¨æ¥æ•´ç†å­¦ä¹ ä½“ä¼šã€åˆ†äº«åŒ»å­¦è§è§£çš„åœ°æ–¹ã€‚
                    <br><br>
                    æ¬¢è¿ä½ çš„åˆ°æ¥ï¼Œå¸Œæœ›æˆ‘ä»¬èƒ½å¤Ÿä¸€èµ·äº¤æµå­¦ä¹ ï¼
                </div>
            </div>

            <!-- åŒ»ç–—å…è´£å£°æ˜ -->
            <div class="card disclaimer-card">
                <div class="medical-disclaimer">
                    <strong>âš ï¸ åŒ»ç–—å…è´£å£°æ˜</strong>
                    <p>æœ¬ç½‘ç«™æ‰€æœ‰å†…å®¹ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºæ–‡å­—ã€å›¾è¡¨ã€ç¬”è®°ã€é“¾æ¥ï¼‰ä»…ä¾›<strong>æ•™è‚²å‚è€ƒä¸ä¿¡æ¯åˆ†äº«</strong>ï¼Œä¸æ„æˆä»»ä½•å½¢å¼çš„åŒ»ç–—å»ºè®®ã€è¯Šæ–­æˆ–æ²»ç–—æ–¹æ¡ˆã€‚</p>
                    <p>æµè§ˆæœ¬ç½‘ç«™ä¸å»ºç«‹åŒ»æ‚£å…³ç³»ï¼›å†…å®¹ä¸èƒ½æ›¿ä»£ä¸“ä¸šåŒ»ç–—äººå‘˜çš„é¢è¯Šã€è¯Šæ–­æˆ–æ²»ç–—å»ºè®®ï¼›å¦‚æœ‰å¥åº·ç–‘è™‘ï¼Œè¯·å’¨è¯¢å…·æœ‰æ‰§ä¸šèµ„è´¨çš„åŒ»ç–—å«ç”Ÿæä¾›è€…ã€‚</p>
                </div>
            </div>

            <!-- åšå®¢æ–‡ç« åˆ—è¡¨ -->
            <div class="card" id="blog">
                <div class="card-title" style="margin-bottom: 24px;">ğŸ“ æœ€æ–°æ–‡ç« </div>
                
                <!-- æ–‡ç« 1 -->
                <article style="border-bottom: 1px solid var(--link-border); padding-bottom: 20px; margin-bottom: 20px;">
                    <h3 style="font-size: 1.15rem; margin-bottom: 8px; color: var(--text-primary); font-weight: 600;">æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢</h3>
                    <div class="card-meta" style="margin-bottom: 12px; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                        <span>å‘å¸ƒäº 2026-02-01</span>
                        <span style="color: var(--text-muted);">Â·</span>
                        <span class="update-time" data-file="post1.html" style="color: var(--text-muted);">è·å–æ—¶é—´...</span>
                    </div>
                    <p style="color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 16px; line-height: 1.6;">
                        ä»Šå¤©ç»ˆäºæ­å»ºèµ·äº†è‡ªå·±çš„ä¸ªäººåšå®¢ï¼ä½œä¸ºä¸€ååŒ»å­¦ç”Ÿï¼Œæˆ‘å¸Œæœ›é€šè¿‡è¿™ä¸ªå¹³å°è®°å½•å­¦ä¹ è¿‡ç¨‹ä¸­çš„æ”¶è·ä¸æ„Ÿæ‚Ÿ...
                    </p>
                    <a href="post1.html" class="link-item" data-file="post1.html" style="display: inline-flex; width: auto; padding: 10px 20px;">
                        <span>é˜…è¯»å…¨æ–‡</span>
                    </a>
                </article>

                <!-- æ–‡ç« 2 -->
                <article style="border-bottom: 1px solid var(--link-border); padding-bottom: 20px; margin-bottom: 20px;">
                    <h3 style="font-size: 1.15rem; margin-bottom: 8px; color: var(--text-primary); font-weight: 600;">ç¤ºæ•™/å®ä¹ è§é—»</h3>
                    <div class="card-meta" style="margin-bottom: 12px; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                        <span>å‘å¸ƒäº 2026-02-02</span>
                        <span style="color: var(--text-muted);">Â·</span>
                        <span class="update-time" data-file="post3.html" style="color: var(--text-muted);">è·å–æ—¶é—´...</span>
                    </div>
                    <p style="color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 16px; line-height: 1.6;">
                        æ­¤å¤„å­˜æ”¾ç¤ºæ•™è¯¾/å®ä¹ æœŸé—´çš„è§é—»å’Œæ€è€ƒ
                    </p>
                    <a href="post2.html" class="link-item" data-file="post3.html" style="display: inline-flex; width: auto; padding: 10px 20px;">
                        <span>é˜…è¯»å…¨æ–‡</span>
                    </a>
                </article>

                <!-- æ–‡ç« 3 -->
                <article>
                    <h3 style="font-size: 1.15rem; margin-bottom: 8px; color: var(--text-primary); font-weight: 600;">æ–°æ–‡ç« æ ‡é¢˜</h3>
                    <div class="card-meta" style="margin-bottom: 12px; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                        <span>å‘å¸ƒäº 2026-02-02</span>
                        <span style="color: var(--text-muted);">Â·</span>
                        <span class="update-time" data-file="post4.html" style="color: var(--text-muted);">è·å–æ—¶é—´...</span>
                    </div>
                    <p style="color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 16px; line-height: 1.6;">
                        æ–‡ç« æ‘˜è¦...
                    </p>
                    <a href="post3.html" class="link-item" data-file="post4.html" style="display: inline-flex; width: auto; padding: 10px 20px;">
                        <span>é˜…è¯»å…¨æ–‡</span>
                    </a>
                </article>

                <!-- å¤–é“¾ -->
                <article style="border-bottom: 1px solid var(--link-border); padding-bottom: 20px; margin-bottom: 20px;">
                    <h3 style="font-size: 1.15rem; margin-bottom: 8px; color: var(--text-primary); font-weight: 600;">åŒ»å­¦å­¦ä¹ æ–¹æ³•åŠç¬”è®°åˆ†äº«</h3>
                    <div class="card-meta" style="margin-bottom: 12px;">
                        å‘å¸ƒäº 2026-02-02
                    </div>
                    <p style="color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 16px; line-height: 1.6;">
                        ç»è¿‡å‡ å¹´çš„åŒ»å­¦å­¦ä¹ ï¼Œæˆ‘æ­£åœ¨æ€»ç»“ä¸€äº›å¯¹æˆ‘æ¥è¯´æ¯”è¾ƒæœ‰æ•ˆçš„å­¦ä¹ æ–¹æ³•ï¼Œä¹Ÿå¼€å§‹æ•´ç†å­˜å‚¨ä¸€äº›ç¬”è®°ï¼Œåˆ†äº«åœ¨æ­¤...
                    </p>
                    <a href="https://nymeria79.github.io/my-page/anki/" target="_blank" class="link-item" style="display: inline-flex; width: auto; padding: 10px 20px;">
                        <span>è®¿é—®ç¬”è®°å¯¼èˆª â†’</span>
                    </a>
                </article>

            </div>

            <!-- é¡µè„š -->
            <div id="contact" style="text-align: center; padding: 20px; color: var(--text-muted); font-size: 0.9rem; margin-top: 20px;">
                <p style="margin-bottom: 8px;">Â© 2026 xiaocçš„åŒ»å­¦åšå®¢ | ç”¨å¿ƒè®°å½•ï¼Œä¸ä½ åˆ†äº«</p>
                <p>yejingyang163@163.com</p>
            </div>

        </div>
    </div>

    <script>
        // ===== å¯†ç åŠŸèƒ½ =====
        const PASSWORD = "xiaoc";
        
        if(localStorage.getItem("unlocked") === "yes") {
            document.getElementById("gate").style.display = "none";
            document.getElementById("blog-content").style.display = "block";
        }
        
        function unlock() {
            if(document.getElementById("pwd").value === PASSWORD) {
                localStorage.setItem("unlocked", "yes");
                document.getElementById("gate").style.display = "none";
                document.getElementById("blog-content").style.display = "block";
            } else {
                document.getElementById("err").style.display = "block";
                document.getElementById("pwd").value = "";
            }
        }

        // ===== GitHub æœ€åä¿®æ”¹æ—¶é—´ï¼ˆå¸¦ç¼“å­˜ï¼‰ =====
        const CONFIG = {
            user: 'Nymeria79',
            repo: 'my-page',
            cacheKey: 'blog_update_times',
            cacheMinutes: 30
        };

        function getCache() {
            try {
                const data = JSON.parse(localStorage.getItem(CONFIG.cacheKey) || '{}');
                if (Date.now() - (data.ts || 0) < CONFIG.cacheMinutes * 60000) {
                    return data.times || {};
                }
            } catch(e) {}
            return {};
        }

        function saveCache(times) {
            localStorage.setItem(CONFIG.cacheKey, JSON.stringify({
                ts: Date.now(),
                times: times
            }));
        }

        async function fetchTime(filename) {
            const cache = getCache();
            if (cache[filename]) return cache[filename];

            try {
                const res = await fetch(`https://api.github.com/repos/${CONFIG.user}/${CONFIG.repo}/commits?path=${filename}&per_page=1`);
                if (!res.ok) throw new Error('APIé™åˆ¶');
                const data = await res.json();
                if (data.length > 0) {
                    const date = new Date(data[0].commit.committer.date);
                    const str = `${String(date.getMonth()+1).padStart(2,'0')}-${String(date.getDate()).padStart(2,'0')} ${String(date.getHours()).padStart(2,'0')}:${String(date.getMinutes()).padStart(2,'0')}`;
                    cache[filename] = str;
                    saveCache(cache);
                    return str;
                }
            } catch(e) {
                console.log('è·å–å¤±è´¥:', filename);
            }
            return null;
        }

        // é¡µé¢åŠ è½½åè·å–æ—¶é—´
        document.addEventListener('DOMContentLoaded', async () => {
            const timeElements = document.querySelectorAll('.update-time[data-file]');
            
            for (let el of timeElements) {
                const file = el.getAttribute('data-file');
                const time = await fetchTime(file);
                if (time) {
                    el.textContent = 'æœ€åä¿®æ”¹ï¼š' + time;
                    el.classList.add('file-time');
                    el.style.cssText = 'font-size: 0.75rem; color: var(--text-muted); background: rgba(0,0,0,0.03); padding: 2px 8px; border-radius: 10px;';
                } else {
                    el.textContent = '';
                }
            }
        });
    </script>
</body>
</html>