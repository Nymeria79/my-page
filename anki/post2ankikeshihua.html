<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­¦ä¹ å¡ç‰‡ - æ™ºèƒ½å¤ä¹ ç³»ç»Ÿ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #f8f5f0;
            --card-bg: #ffffff;
            --accent-red: #e63946;
            --accent-green: #06d6a0;
            --text-dark: #2b2d42;
            --text-light: #6c757d;
            --border-color: #e9ecef;
            --blur-bg: rgba(139, 139, 139, 0.8);
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
            --shadow-hover: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #f8f5f0 0%, #ede9e4 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 0.8s ease-out;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .header p {
            color: var(--text-light);
            font-size: 1rem;
        }

        .input-section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .input-section h2 {
            font-size: 1.2rem;
            margin-bottom: 12px;
            color: var(--text-dark);
        }

        .instruction {
            background: #fff8e1;
            border-left: 4px solid #ffd700;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 6px;
            font-size: 0.9rem;
            line-height: 1.8;
        }

        .instruction code {
            background: rgba(230, 57, 70, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: var(--accent-red);
            font-weight: 600;
        }

        textarea {
            width: 100%;
            min-height: 180px;
            padding: 18px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-family: 'Noto Sans SC', sans-serif;
            font-size: 0.95rem;
            line-height: 1.6;
            resize: vertical;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        textarea:focus {
            outline: none;
            border-color: var(--accent-red);
            background: white;
            box-shadow: 0 0 0 3px rgba(230, 57, 70, 0.1);
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }

        button {
            flex: 1;
            padding: 12px 24px;
            font-size: 0.95rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans SC', sans-serif;
        }

        .btn-generate {
            background: var(--accent-red);
            color: white;
            box-shadow: 0 4px 12px rgba(230, 57, 70, 0.3);
        }

        .btn-generate:hover {
            background: #d62839;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(230, 57, 70, 0.4);
        }

        .btn-clear {
            background: var(--border-color);
            color: var(--text-dark);
        }

        .btn-clear:hover {
            background: #dee2e6;
            transform: translateY(-2px);
        }

        .btn-copy {
            background: #457b9d;
            color: white;
            box-shadow: 0 4px 12px rgba(69, 123, 157, 0.3);
        }

        .btn-copy:hover {
            background: #3d6a87;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(69, 123, 157, 0.4);
        }

        .stats-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            animation: fadeInUp 0.8s ease-out 0.3s both;
        }

        .stat-card {
            flex: 1;
            background: var(--card-bg);
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .stat-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-red);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .content-section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 0;
            box-shadow: var(--shadow);
            animation: fadeInUp 0.8s ease-out 0.4s both;
            overflow: hidden;
        }

        .section-title {
            background: linear-gradient(135deg, #2b2d42 0%, #3a3d52 100%);
            color: white;
            padding: 18px 25px;
            font-size: 1.2rem;
            font-weight: 700;
            margin: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: #f8f9fa;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        th {
            padding: 15px 20px;
            text-align: left;
            font-weight: 600;
            color: var(--text-dark);
            border-bottom: 2px solid var(--border-color);
            font-size: 0.9rem;
        }

        th:first-child {
            width: 60px;
            text-align: center;
        }

        tbody tr {
            border-bottom: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }

        tbody tr:hover {
            background: #f8f9fa;
        }

        tbody tr.title-row {
            background: #fff8e1;
            font-weight: 600;
        }

        tbody tr.title-row:hover {
            background: #fff3cd;
        }

        tbody tr.title-row td {
            padding: 15px 20px;
            font-size: 1.05rem;
            color: #856404;
        }

        td {
            padding: 18px 20px;
            text-align: left;
            font-size: 0.95rem;
            line-height: 1.7;
        }

        td:first-child {
            text-align: center;
            font-weight: 600;
            color: var(--text-light);
            width: 60px;
        }

        .blur-text {
            background: var(--blur-bg);
            color: transparent;
            border-radius: 6px;
            padding: 2px 8px;
            user-select: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            display: inline-block;
            position: relative;
        }

        .blur-text:hover {
            background: transparent;
            color: var(--accent-red);
            font-weight: 600;
            transform: scale(1.05);
        }

        .answer-text {
            background: linear-gradient(135deg, rgba(230, 57, 70, 0.15) 0%, rgba(230, 57, 70, 0.05) 100%);
            color: var(--accent-red);
            font-weight: 600;
            padding: 3px 10px;
            border-radius: 6px;
            border: 2px solid rgba(230, 57, 70, 0.2);
            display: inline-block;
        }

        /* ç¡®ä¿strongæ ‡ç­¾åœ¨ç­”æ¡ˆå’Œé®ç½©ä¸­éƒ½èƒ½æ­£ç¡®æ˜¾ç¤º */
        .answer-text strong,
        .blur-text strong {
            font-weight: 700;
        }

        .empty-state {
            text-align: center;
            padding: 80px 20px;
            color: var(--text-light);
        }

        .empty-state svg {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            opacity: 0.3;
        }

        .empty-state p {
            font-size: 1.1rem;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 968px) {
            .header h1 {
                font-size: 1.8rem;
            }

            th, td {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ æ™ºèƒ½å­¦ä¹ å¤ä¹ ç³»ç»Ÿ</h1>
            <p>è¡¨æ ¼å¯¹ç…§ Â· æ‚¬åœæ˜¾ç¤º</p>
        </div>

        <div class="input-section">
            <h2>ğŸ“ è¾“å…¥å­¦ä¹ å†…å®¹</h2>
            <div class="instruction">
                <strong>ä½¿ç”¨è¯´æ˜ï¼š</strong><br>
                â€¢ ç”¨ <code>{{c1::ç­”æ¡ˆ}}</code> æ ‡è®°éœ€è¦è®°å¿†çš„å†…å®¹<br>
                â€¢ ç”¨ <code>**åŠ ç²—æ–‡å­—**</code> æ ‡è®°é‡ç‚¹ï¼ˆæ ‡é¢˜å’Œé¢˜ç›®ä¸­éƒ½å¯ç”¨ï¼‰<br>
                â€¢ æ ‡é¢˜è¡Œï¼šå•ç‹¬ä¸€è¡Œçš„æ–‡æœ¬ï¼ˆä¸å«{{c1::}}ï¼‰ä¼šè¢«è¯†åˆ«ä¸ºæ ‡é¢˜<br>
                â€¢ é¢˜ç›®è¡Œï¼šåŒ…å«{{c1::}}çš„å†…å®¹ä¼šæˆä¸ºä¸€é“é¢˜<br>
                â€¢ ä¾‹å¦‚ï¼š<code>**èŒä¸šå«ç”Ÿæµ‹è¯•**</code>ï¼ˆæ ‡é¢˜ï¼‰ â†’ <code>1.çŸ½è‚ºæœ€å¸¸è§çš„å¹¶å‘ç—‡æ˜¯{{c1::è‚ºç»“æ ¸}}</code>ï¼ˆé¢˜ç›®ï¼‰
            </div>
            <textarea id="inputText" placeholder="åœ¨æ­¤ç²˜è´´æˆ–è¾“å…¥ä½ çš„å­¦ä¹ å†…å®¹...&#10;&#10;ä¾‹å¦‚ï¼š&#10;**èŒä¸šå«ç”Ÿæµ‹è¯•**&#10;1.çŸ½è‚ºæœ€å¸¸è§çš„å¹¶å‘ç—‡æ˜¯{{c1::è‚ºç»“æ ¸}}&#10;2.æ§åˆ¶ç”Ÿäº§æ€§ç²‰å°˜å±å®³çš„**æœ€æ ¹æœ¬**æªæ–½æ˜¯{{c1::æŠ€æœ¯é©æ–°å’Œå·¥è‰ºæ”¹é©}}"></textarea>
            <div class="button-group">
                <button class="btn-generate" onclick="generateContent()">âœ¨ ç”Ÿæˆå­¦ä¹ è¡¨æ ¼</button>
                <button class="btn-clear" onclick="clearAll()">ğŸ—‘ï¸ æ¸…ç©ºå†…å®¹</button>
                <button class="btn-copy" onclick="copyTableHTML()" id="copyBtn" style="display: none;">ğŸ“‹ å¤åˆ¶ç‹¬ç«‹ç½‘é¡µHTML</button>
            </div>
        </div>

        <div class="stats-bar" id="statsBar" style="display: none;">
            <div class="stat-card">
                <div class="stat-number" id="totalCount">0</div>
                <div class="stat-label">æ€»é¢˜ç›®æ•°</div>
            </div>
        </div>

        <div class="content-section">
            <h3 class="section-title">ğŸ“š å­¦ä¹ å¯¹ç…§è¡¨</h3>
            <div id="tableContent">
                <div class="empty-state">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                    </svg>
                    <p>è¾“å…¥å†…å®¹åç‚¹å‡»"ç”Ÿæˆå­¦ä¹ è¡¨æ ¼"å¼€å§‹å­¦ä¹ </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let questionData = [];
        let currentTableHTML = '';

        function parseContent(text) {
            const lines = text.split('\n').filter(line => line.trim());
            const parsed = [];
            
            lines.forEach(line => {
                const trimmed = line.trim();
                // æ£€æŸ¥æ˜¯å¦åŒ…å«{{c1::}}
                if (trimmed.includes('{{c1::')) {
                    parsed.push({ type: 'question', content: trimmed });
                } else if (trimmed) {
                    parsed.push({ type: 'title', content: trimmed });
                }
            });
            
            return parsed;
        }

        // ä¸“é—¨å¤„ç†åŠ ç²—æ ‡è®°çš„å‡½æ•°
        function processBold(text) {
            return text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
        }

        function createPracticeVersion(text) {
            // å…ˆå¤„ç†åŠ ç²—ï¼Œå†å¤„ç†c1é®ç½©
            let processed = processBold(text);
            return processed.replace(/\{\{c1::(.*?)\}\}/g, '<span class="blur-text">$1</span>');
        }

        function createAnswerVersion(text) {
            // å…ˆå¤„ç†åŠ ç²—ï¼Œå†å¤„ç†c1ç­”æ¡ˆ
            let processed = processBold(text);
            return processed.replace(/\{\{c1::(.*?)\}\}/g, '<span class="answer-text">$1</span>');
        }

        function generateContent() {
            const inputText = document.getElementById('inputText').value;
            
            if (!inputText.trim()) {
                alert('è¯·å…ˆè¾“å…¥å†…å®¹ï¼');
                return;
            }

            questionData = parseContent(inputText);
            
            if (questionData.filter(item => item.type === 'question').length === 0) {
                alert('æ²¡æœ‰æ£€æµ‹åˆ°é¢˜ç›®ï¼è¯·ä½¿ç”¨ {{c1::ç­”æ¡ˆ}} æ ¼å¼æ ‡è®°ç­”æ¡ˆã€‚');
                return;
            }

            renderTable();
            updateStats();
            document.getElementById('statsBar').style.display = 'flex';
        }

        function renderTable() {
            const tableContent = document.getElementById('tableContent');
            
            let html = `
                <table>
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>ç»ƒä¹ æ¨¡å¼ï¼ˆæ‚¬åœæ˜¾ç¤ºç­”æ¡ˆï¼‰</th>
                            <th>ç­”æ¡ˆå¯¹ç…§</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            let questionIndex = 0;
            
            questionData.forEach((item, idx) => {
                if (item.type === 'title') {
                    // å…³é”®ä¿®å¤ï¼šæ ‡é¢˜è¡Œä¹Ÿè¦å¤„ç†åŠ ç²—
                    const titleWithBold = processBold(item.content);
                    html += `
                        <tr class="title-row">
                            <td colspan="3">${titleWithBold}</td>
                        </tr>
                    `;
                } else {
                    questionIndex++;
                    html += `
                        <tr>
                            <td>${questionIndex}</td>
                            <td>${createPracticeVersion(item.content)}</td>
                            <td>${createAnswerVersion(item.content)}</td>
                        </tr>
                    `;
                }
            });

            html += `
                    </tbody>
                </table>
            `;

            tableContent.innerHTML = html;
            currentTableHTML = html;
            document.getElementById('copyBtn').style.display = 'block';
        }

        function copyTableHTML() {
            if (!currentTableHTML) {
                alert('è¯·å…ˆç”Ÿæˆè¡¨æ ¼ï¼');
                return;
            }
            
            // ç”Ÿæˆå®Œæ•´çš„ç‹¬ç«‹HTMLæ–‡ä»¶å†…å®¹ï¼ˆä»…åŒ…å«è¡¨æ ¼å±•ç¤ºï¼Œæ— è¾“å…¥ç•Œé¢ï¼‰
            const fullHTML = `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­¦ä¹ å¯¹ç…§è¡¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --card-bg: #ffffff;
            --accent-red: #e63946;
            --text-dark: #2b2d42;
            --text-light: #6c757d;
            --border-color: #e9ecef;
            --blur-bg: rgba(139, 139, 139, 0.8);
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #f8f5f0 0%, #ede9e4 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .content-section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 0;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .section-title {
            background: linear-gradient(135deg, #2b2d42 0%, #3a3d52 100%);
            color: white;
            padding: 18px 25px;
            font-size: 1.2rem;
            font-weight: 700;
            margin: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: #f8f9fa;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        th {
            padding: 15px 20px;
            text-align: left;
            font-weight: 600;
            color: var(--text-dark);
            border-bottom: 2px solid var(--border-color);
            font-size: 0.9rem;
        }

        th:first-child {
            width: 60px;
            text-align: center;
        }

        tbody tr {
            border-bottom: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }

        tbody tr:hover {
            background: #f8f9fa;
        }

        tbody tr.title-row {
            background: #fff8e1;
            font-weight: 600;
        }

        tbody tr.title-row:hover {
            background: #fff3cd;
        }

        tbody tr.title-row td {
            padding: 15px 20px;
            font-size: 1.05rem;
            color: #856404;
        }

        td {
            padding: 18px 20px;
            text-align: left;
            font-size: 0.95rem;
            line-height: 1.7;
        }

        td:first-child {
            text-align: center;
            font-weight: 600;
            color: var(--text-light);
            width: 60px;
        }

        .blur-text {
            background: var(--blur-bg);
            color: transparent;
            border-radius: 6px;
            padding: 2px 8px;
            user-select: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            display: inline-block;
            position: relative;
        }

        .blur-text:hover {
            background: transparent;
            color: var(--accent-red);
            font-weight: 600;
            transform: scale(1.05);
        }

        .answer-text {
            background: linear-gradient(135deg, rgba(230, 57, 70, 0.15) 0%, rgba(230, 57, 70, 0.05) 100%);
            color: var(--accent-red);
            font-weight: 600;
            padding: 3px 10px;
            border-radius: 6px;
            border: 2px solid rgba(230, 57, 70, 0.2);
            display: inline-block;
        }

        /* å…³é”®ä¿®å¤ï¼šç¡®ä¿åŠ ç²—æ ‡ç­¾åœ¨å¤åˆ¶å‡ºå»çš„HTMLä¸­ä¹Ÿæœ‰æ•ˆæœ */
        strong {
            font-weight: 700;
        }

        /* ç¡®ä¿strongåœ¨é®ç½©å’Œç­”æ¡ˆæ¡†å†…ä¹Ÿèƒ½æ­£ç¡®æ˜¾ç¤º */
        .answer-text strong,
        .blur-text strong {
            font-weight: 700;
        }

        @media (max-width: 968px) {
            th, td {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content-section">
            <h3 class="section-title">ğŸ“š å­¦ä¹ å¯¹ç…§è¡¨</h3>
            ${currentTableHTML}
        </div>
    </div>
</body>
</html>`;
            
            navigator.clipboard.writeText(fullHTML).then(() => {
                const btn = document.getElementById('copyBtn');
                const originalText = btn.innerHTML;
                btn.innerHTML = 'âœ… å·²å¤åˆ¶å®Œæ•´ç½‘é¡µä»£ç ï¼';
                btn.style.background = '#06d6a0';
                
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
            });
        }

        function updateStats() {
            const questions = questionData.filter(item => item.type === 'question');
            const total = questions.length;
            
            document.getElementById('totalCount').textContent = total;
        }

        function clearAll() {
            if (questionData.length > 0) {
                if (!confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†…å®¹å—ï¼Ÿ')) {
                    return;
                }
            }
            
            document.getElementById('inputText').value = '';
            document.getElementById('tableContent').innerHTML = `
                <div class="empty-state">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                    </svg>
                    <p>è¾“å…¥å†…å®¹åç‚¹å‡»"ç”Ÿæˆå­¦ä¹ è¡¨æ ¼"å¼€å§‹å­¦ä¹ </p>
                </div>
            `;
            document.getElementById('statsBar').style.display = 'none';
            document.getElementById('copyBtn').style.display = 'none';
            questionData = [];
            currentTableHTML = '';
        }

        // å¿«æ·é”®æ”¯æŒ
        document.getElementById('inputText').addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                generateContent();
            }
        });
    </script>
</body>
</html>